library(datasets)
data(iris)
ï¼Ÿiris
?iris
tapply(iris$Sepal.Legnth,iris$virginica,mean)
tapply(iris$Sepal.Length,iris$virginica,mean)
?tapply
tapply(iris$Sepal.Legnth,iris$species,mean)
tapply(iris$Sepal.Length,iris$species,mean)
?iris
tapply(iris$Sepal.Length,iris$Species,mean)
apply(iris[, 1:4], 2, mean)
library(datasets)
data(mtcars)
?mtcars
sapply(split(mtcars$mpg, mtcars$cyl),mean)
sapply(split(mtcars$hp, mtcars$cyl),mean)
209.21429 -122.28571
debug(ls)
ls
ls()
stop()
nnnn
stop()
end()
end
end
end
end()
library(datasets)
data(mtcars)
tapply(mtcars$hp,mtcars$cyl,mean)
209.21429 -82.63636
library(datasets)
data(iris)
?iris
tapply(iris,iris$Sepal.Length,mean)
lapply(iris$Sepal.Length,mean)
apply(iris,2,mean)
tapply(iris$Sepal.Length,iris$Species,mean)
library(datasets)
data(mtcars)
with(mtcars,tapply(mpg,cyl,mean))
?mtcars
tapply(mtcars$hp,mtcars$cyl,mean)
209.21429-82.63636
install.packages("knitr")
library(DBI)
library(RMySQL)
hg19 <- dbConnect(MySQL(), user="genome",db="hg19",host="genome-mysql.cse.ucsc.edu")
allTables <- dbList(Tables(hg19))
allTables <- dbListTables(Tables(hg19))
allTables <- dbListTables(hg19)
hg19 <- dbConnect(MySQL(), user="genome",db="hg19",host="genome-mysql.cse.ucsc.edu")
allTables <- dbListTables(hg19)
length(allTables)
hg19 <- dbConnect(MySQL(), user="genome",db="hg19",host="genome-mysql.cse.ucsc.edu")
Url <- "http://www.theatlantic.com/technology/archive/2014/01/how-netflix-reverse-engineered-hollywood/282679/"
blog <- htmlTreeParse(Url, internalUse=TRUE)
library(HTML)
library(XML)
blog <- htmlTreeParse(Url, internalUse=TRUE)
?htmlTreeParse
blog <- htmlTreeParse(Url, useInternalNodes=TRUE)
xpathSApply(blog,"//title",xmlvalue)
xpathSApply(blog,"//title",xmlValue)
readBlog <- readLines(Url)
head(readBlog)
xpathSApply(blog,"//author",xmlValue)
Url <- "https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip"
getwd()
setwd("~/Desktop/R Workspace/Activity")
data <- read.csv("activity.csv")
names(data)
?mean
nrows(data)
nrow(data)
by(data$steps,data$date,sum)
?by
tapply(data$steps,data$data,sum,na.rm=TRUE)
by(data$steps,data$date,sum,na,rm=TRUE)
tapply(data$steps,data$date,sum,na.rm=TRUE)
mean(tapply(data$steps,data$date,sum,na.rm=TRUE))
hist(tapply(data$steps,data$date,sum,na.rm=TRUE))
daysteps <- tapply(data$steps,data$date,sum,na.rm=TRUE)
hist(daysteps)
mean(daysteps)
median(daysteps)
plot(date$date,data$steps,type = "l")
data$date <- as.date(strptime(data$date),format="%Y-%m-%d")
data$date <- as.Date(strptime(data$date),format="%Y-%m-%d")
data$date <- as.Date(strptime(data$date,format="%Y-%m-%d")
)
head(data$date)
plot(date$date,data$steps,type = "l")
plot(length(date$date),data$steps,type = "l")
plot(1:length(date$date),data$steps,type = "l")
plot(data$date,data$steps,type = "l")
plot(data$date,daysteps,type = "l")
plot(level(data$date),daysteps,type = "l")
plot(daysteps)
plot(data$date,mean(data$steps,na.rm=TRUE),type = "l")
tapply(data$steps,na.rm=TRUE)
tapply(data$steps,data$steps,na.rm=TRUE)
tapply(data$steps,data,na.rm=TRUE)
tapply(data$steps,mean,na.rm=TRUE)
mean(data$steps,na.rm=TRUE)
meansteps <- mean(data$steps,na.rm=TRUE)
plot(data$steps, meansteps*(1:length(data$steps)),type="l")
plot(data$date, meansteps*(1:length(data$date)),type="l")
plot(data$date, meansteps*ones(1:length(data$date)),type="l")
plot(data$date, rep(meansteps,length(data$date)),type="l")
?max
which.max(data$steps)
names(data)
head(data$interval)
tapply(data$steps,data$interval,mean,na.rm=TRUE)
mean_interval <- tapply(data$steps,data$interval,mean,na.rm=TRUE)
levels(data$interval)
levels(factor(data$interval)
)
plot(mean_interval,levels(factor(data$interval)))
plot(mean_interval,levels(factor(data$interval)),type = "l")
plot(mean_interval,levels(factor(data$interval)))
which.max(mean_interval)
mean_interval[835]
head(mean_interval)
levels(factor(data$interval))[which.max(mean_interval)]
plot(levels(factor(data$interval)),mean_interval,type="l")
head <- head(data)
head
?|
?||
is.na(head$steps)|is.na(head$date)|is.na(head$interval)
sum(is.na(data$steps)|is.na(data$date)|is.na(data$interval))
sum(is.na(data$date))
sum(is.na(data$interval))
na_pos <- is.na(data$steps)
interval_pos <- data$interval(na_pos)
na_pos <- is.na(data$steps)
data$steps(na_pos) <- mean_interval(interval_pos <- data$interval(na_pos))
interval_pos <- data$interval[na_pos]
data$steps(na_pos) <- mean_interval[interval_pos]
data$steps[na_pos] <- mean_interval[interval_pos]
head(interval_pos)
head(data$steps)
is.na(data_steps)
is.na(data$steps)
sum(is.na(data$steps))
na_pos <- is.na(data$steps)
na_date <- data$date[na_pos]
data$steps[na_pos] <- daysteps[na_date]
sum(is.na(data$steps))
data <- read.csv("activity.csv")
sum(is.na(data$steps))
daysteps[data$date[is.na(data$steps)]]
daysteps
head(daysteps)
daysteps_col <- rep(daysteps, each=length(levels(factor(data$interval))))
head(daysteps_col)
length(day_steps_col)
nrow(day_steps_col)
length(daysteps_col)
length(data$steps)
daysteps_col <- rep(daysteps, each=length(levels(factor(data$interval))))
data$steps[is.na(data$steps)] <- daysteps_col[is.na(data$steps)]
sum(is.na(data$steps))
daysteps <- tapply(data$steps,data$date,sum,na.rm=TRUE)
hist(daysteps)
mean(daysteps)
median(daysteps)
data <- read.csv("activity.csv")
daysteps <- tapply(data$steps,data$date,sum,na.rm=TRUE)
hist(daysteps)
mean(daysteps)
median(daysteps)
daysteps_col <- rep(daysteps, each=length(levels(factor(data$interval))))
data$steps[is.na(data$steps)] <- daysteps_col[is.na(data$steps)]
daysteps1 <- tapply(data$steps,data$date,sum,na.rm=TRUE)
hist(daysteps1)
mean(daysteps1)
median(daysteps1)
daysteps1
data <- read.csv("activity.csv")
daysteps <- tapply(data$steps,data$date,sum,na.rm=TRUE)
(sumdaysteps == daysteps1)
sum(daysteps == daysteps1)
data <- read.csv("activity.csv")
daysteps <- tapply(data$steps,data$date,sum,na.rm=TRUE)
hist(daysteps)
daymean <- tapply(data$steps,data$date,mean,na.rm=TRUE)
daymedian <- tapply(data$steps,data$date,median,na.rm=TRUE)
head(daymean)
head(daymedian)
daysteps_col <- rep(daysteps, each=length(levels(factor(data$interval))))
data$steps[is.na(data$steps)] <- daysteps_col[is.na(data$steps)]
daysteps1 <- tapply(data$steps,data$date,sum,na.rm=TRUE)
hist(daysteps1)
daymean1 <- tapply(data$steps,data$date,mean,na.rm=TRUE)
daymedian1 <- tapply(data$steps,data$date,median,na.rm=TRUE)
head(daymean1)
daymean1 == daymean
daymean == daymean1
sum(daymean==daymean1)
sum(daymean==daymean1,na.rm=TRUE)
sum(daymean>=daymean1,na.rm=TRUE)
sum(daymean>daymean1,na.rm=TRUE)
sum(daymedia>daymedian1,na.rm=TRUE)
sum(daymedian>daymedian1,na.rm=TRUE)
is.na(data$steps)
sum(is.na(data$steps))
original <- <- read.csv("activity.csv")
original <- read.csv("activity.csv")
sum(original$steps == data$steps)
sum(original$steps == data$steps, na.rm=TRUE)
sum(is.na(original$steps))
?weekdays
weekdays(data$date)
data$date <- as.Date(data$date)
weekdays(data$date)
?levels
y <- gl(c("Monday","Tuesday","Wednesday","Thursday","Friday"))
levels(weekdays(data$date))
levels(factor(weekdays(data$date))
)
levels(factor(weekdays(data$date)) <- c("weekday","weekday","weekend","weekend","weekday","weekday","weekday")
)
levels(factor(weekdays(data$date)) <- c("weekday","weekday","weekend","weekend","weekday","weekday","weekday"))
levels(factor(weekdays(data$date)) <- c("weekday","weekday","weekend","weekend","weekday","weekday","weekday"))
levels(levels(factor(weekdays(data$date))) <- ("weekday","weekday","weekend","weekend","weekday","weekday","weekday")
levels(x)[levels(x)=="Monday"] <-"weekday"
x <- data$date; levels(x)[levels(as.factor(x))=="Monday"] <-"weekday"
levels(weekdays(data$date))
levels(as.factor(weekdays(data$date))
)
levels(as.factor(weekdays(data$date)))[ weekdays(data$date) == "Monday"] <- "weekday"
levels(factor(weekdays(data$date)))[ weekdays(data$date) == "Monday"] <- "weekday"
weekdayvec <- levels(as.factor(weekdays(data$date))
)
weekdayvec
weekdayvec <- c("Monday","Tuesday","Wednesday","Thursday","Friday")
weekendvec <- c("Saturday","Sunday")
?but
?cut
?group
"Monday" in weekdayvec
logic("Monday" in weekdayvec)
if ("Monday" in weekdayvec)
k <- 1
weekdayvec[weekdayvec == "Monday" | weekdayvec == "Tuesday" | weekdayvec == "Wednesday" | weekdayvec == "Thursday" |weekdayvec == "Friday" ] <- "weekday"
weekdayvec[weekdayvec == "Saturday" | weekdayvec == "Sunday" ] <- "weekend"
head(weekdayvec)
length(weekdayvec)
weekdayvec <- weekdays(data$date))
weekdayvec <- weekdays(data$date)
length(weekdayvec)
weekdayvec[weekdayvec == "Monday" | weekdayvec == "Tuesday" | weekdayvec == "Wednesday" | weekdayvec == "Thursday" |weekdayvec == "Friday" ] <- "weekday"
length(weekdayvec)
weekdayvec[weekdayvec == "Saturday" | weekdayvec == "Sunday" ] <- "weekend"
length(weekdayvec)
head(weekdayvec)
sum(weekdayvec == "weekend")
data <- data.frame(data,weekdayvec)
avg <- tapply(data$steps,data$interval[data$weekdayvec=="weekday"],mean)
avg <- tapply(data$steps[data$weekdayvec=="weekday"],data$interval[data$weekdayvec=="weekday"],mean)
length(avg)
plot(data$intervals,avg)
length(data$interval)
data$weekdayvec=="weekday"
weekdaydata <- data.frame(data$weekdayvec == "weekday")
length(weekdaydata)
weekdaydata <- data.frame(data(data$weekdayvec == "weekday")
)
weekdaydata <- data.frame(data(data$weekdayvec == "weekday"))
weekdaydata
weekdaydata <- ubset(data,data$weekdayvec == "weekday")
weekdaydata <- subset(data,data$weekdayvec == "weekday")
length(weekdaydata)
names(data)
head(data)
weekdaydata <- subset(data,data$weekdayvec = "weekday")
?subset
weekdaydata <- subset(data,data$weekdayvec == weekday)
class(data$weekdayvec)
weekdaydata <- subset(data,data$weekdayvec == factor("weekday")
)
weekdaydata <- subset(data,data$weekdayvec == "weekday")
weekdaydata
length(weekdaydata$steps)
weekdaydata <- subset(data,data$weekdayvec == "weekday")
weekenddata <- subset(data,data$weekdayvec == "weekend")
length(weekenddata$steps)
avg_wd <- tapply(weekdaydata$steps,weekdaydata$interval)
avg_wd <- tapply(weekdaydata$steps,weekdaydata$interval,mean)
avg_wkd <- tapply(weekenddata$steps,weekenddata$interval,mean)
plot(weekdaydata$interval,avg_wd)
length(avg_wd)
plot(levels(factor(weekdaydata$interval)),avg_wd)
plot(levels(factor(weekdaydata$interval)),avg_wd,type="l")
plot(levels(factor(weekenddata$interval)),avg_wkd,type="l")
daymedian == 0
?median
library(knitr)
?knit2html
knit2html("repData_peer.Rmd")
knit2html("repData_peer.Rmd","PA1_template.md")
setwd("~/Desktop/R Workspace/RepData_PeerAssessment1")
data <- read.csv("activity.csv")
data <- read.csv("activity.csv")
daysteps <- tapply(data$steps,data$date,sum,na.rm=TRUE)
hist(daysteps)
daymean <- tapply(data$steps,data$date,mean,na.rm=TRUE)
daymean
daymedian <- tapply(data$steps,data$date,median,na.rm=TRUE)
daymedian
png('histgram of daysteps')
hist(daysteps)
dev.off()
png('histgram of daysteps.png')
hist(daysteps)
dev.off()
mean_interval <- tapply(data$steps,data$interval,mean,na.rm=TRUE)
png('Mean of intervals.png')
plot(levels(factor(data$interval)),mean_interval,type="l")
dev.off()
sum(is.na(data$steps))
daysteps_col <- rep(daysteps, each=length(levels(factor(data$interval))))
data$steps[is.na(data$steps)] <- daysteps_col[is.na(data$steps)]
daysteps1 <- tapply(data$steps,data$date,sum,na.rm=TRUE)
png('histogram of daysteps with NA filed.png')
hist(daysteps1)
dev.off()
daymean1 <- tapply(data$steps,data$date,mean,na.rm=TRUE)
daymean1
daymedian1 <- tapply(data$steps,data$date,median,na.rm=TRUE)
daymedian1
data$date <- as.Date(data$date)
weekdayvec <- weekdays(data$date)
weekdayvec[weekdayvec == "Monday" | weekdayvec == "Tuesday" | weekdayvec == "Wednesday" | weekdayvec == "Thursday" |weekdayvec == "Friday" ] <- "weekday"
weekdayvec[weekdayvec == "Saturday" | weekdayvec == "Sunday" ] <- "weekend"
data <- data.frame(data,weekdayvec)
weekdaydata <- subset(data,data$weekdayvec == "weekday")
weekenddata <- subset(data,data$weekdayvec == "weekend")
avg_wky <- tapply(weekdaydata$steps,weekdaydata$interval,mean)
avg_wkd <- tapply(weekenddata$steps,weekenddata$interval,mean)
png('weekday.png')
plot(levels(factor(weekdaydata$interval)),avg_wky,type="l")
png('weekend.png)
plot(levels(factor(weekenddata$interval)),avg_wkd,type="l")
dev.off()
))
